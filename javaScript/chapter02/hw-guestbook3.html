<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<style>

</style>


</head>

<body>
    <div>

		<form id="guestbookForm" action="/guestbook/add" method="get">
			<table border="1" width="540px">
				<tr>
					<td>이름</td>
					<td>
						<input type="text" name="name">
					</td>
					<td>비밀번호</td>
					<td>
						<input type="password" name="pw">
					</td>
				</tr>
				<tr>
					<td colspan="4"><textarea cols="72" rows="5" name="content"></textarea></td>
				</tr>
				<tr>
					<td colspan="4"><button id="btnWrite" type="submit">등록</button></td>
				</tr>
			</table>
		</form>
		
	</div>
	<br>
	<!-- ------------------------------------------------------------------------- -->
<script>
document.addEventListener('DOMContentLoaded', function(){
	console.log('돔트리 완성');

	//폼은 submit 버튼에 클릭이벤트가 아니다
	//폼은 이벤트를 폼 등록한다   이벤트명이 submit  click(X)
	let guestbookForm = document.querySelector('#guestbookForm');
	console.log(guestbookForm);

	guestbookForm.addEventListener('submit', function(event){
		console.log('등록버튼 클릭');

		//이름이 비어 있으면
		let nameTag = document.querySelector('input[name="name"]');
		console.log(nameTag);
		console.log(nameTag.value);
		console.log(nameTag.value.trim());

		let name = nameTag.value.trim();
		if(name == '') {
			window.alert('이름을 확인해 주세요');
			event.preventDefault();  //원래 전송하던거 멈추기
			return false;
		}

		//패스워드가 비어 있으면
		let pwTag = document.querySelector('input[name="pw"]');
		//console.log(pwTag);
		let pw = pwTag.value.trim();
		console.log(pw);

		if(pw == '') {
			window.alert('비밀번호를 확인해주세요');
			event.preventDefault();   //원래 하던거 멈추기
			return false;
		}

		return true;

		
		
		
		


	});


});

</script>

</body>



</html>